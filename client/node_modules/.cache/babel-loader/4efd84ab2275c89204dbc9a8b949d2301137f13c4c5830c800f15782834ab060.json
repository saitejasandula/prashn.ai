{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sai Teja\\\\OneDrive\\\\Desktop\\\\prashn.ai\\\\client\\\\src\\\\components\\\\Quiz.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Quiz({\n  quizData,\n  finishQuiz\n}) {\n  _s();\n  const [current, setCurrent] = useState(0);\n  const [answers, setAnswers] = useState([]);\n  const [timer, setTimer] = useState(30);\n  const intervalRef = useRef();\n  const question = quizData ? quizData[current] : null;\n  const isHard = quizData && quizData[0] && quizData[0].difficulty === 'hard';\n  useEffect(() => {\n    if (isHard && question) {\n      setTimer(30);\n      intervalRef.current = setInterval(() => {\n        setTimer(t => {\n          if (t <= 1) {\n            handleAnswer(null);\n            return 30;\n          }\n          return t - 1;\n        });\n      }, 1000);\n      return () => clearInterval(intervalRef.current);\n    }\n    // eslint-disable-next-line\n  }, [current, isHard]);\n  if (!quizData) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Quiz not loaded.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 25\n  }, this);\n  const handleAnswer = option => {\n    clearInterval(intervalRef.current);\n    setAnswers([...answers, option]);\n    if (current + 1 < quizData.length) {\n      setCurrent(current + 1);\n    } else {\n      submitQuiz([...answers, option]);\n    }\n  };\n  const submitQuiz = async finalAnswers => {\n    try {\n      const res = await axios.post('/api/quiz/report', {\n        questions: quizData,\n        answers: finalAnswers\n      });\n      finishQuiz(finalAnswers, res.data.report);\n    } catch {\n      finishQuiz(finalAnswers, []);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\",\n      style: {\n        width: `${(current + 1) / quizData.length * 100}%`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Question \", current + 1, \" of \", quizData.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: question.question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: question.options.map((opt, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: () => handleAnswer(opt),\n        children: opt\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), isHard && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer\",\n      children: [\"Time left: \", timer, \"s\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(Quiz, \"2vztdkuYTuH4S7Z7zDebi4eYCzw=\");\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","Quiz","quizData","finishQuiz","_s","current","setCurrent","answers","setAnswers","timer","setTimer","intervalRef","question","isHard","difficulty","setInterval","t","handleAnswer","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","option","length","submitQuiz","finalAnswers","res","post","questions","data","report","className","style","width","options","map","opt","idx","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Sai Teja/OneDrive/Desktop/prashn.ai/client/src/components/Quiz.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Quiz({ quizData, finishQuiz }) {\r\n  const [current, setCurrent] = useState(0);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [timer, setTimer] = useState(30);\r\n  const intervalRef = useRef();\r\n\r\n  const question = quizData ? quizData[current] : null;\r\n  const isHard = quizData && quizData[0] && quizData[0].difficulty === 'hard';\r\n\r\n  useEffect(() => {\r\n    if (isHard && question) {\r\n      setTimer(30);\r\n      intervalRef.current = setInterval(() => {\r\n        setTimer(t => {\r\n          if (t <= 1) {\r\n            handleAnswer(null);\r\n            return 30;\r\n          }\r\n          return t - 1;\r\n        });\r\n      }, 1000);\r\n      return () => clearInterval(intervalRef.current);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [current, isHard]);\r\n\r\n  if (!quizData) return <div>Quiz not loaded.</div>;\r\n\r\n  const handleAnswer = (option) => {\r\n    clearInterval(intervalRef.current);\r\n    setAnswers([...answers, option]);\r\n    if (current + 1 < quizData.length) {\r\n      setCurrent(current + 1);\r\n    } else {\r\n      submitQuiz([...answers, option]);\r\n    }\r\n  };\r\n\r\n  const submitQuiz = async (finalAnswers) => {\r\n    try {\r\n      const res = await axios.post('/api/quiz/report', { questions: quizData, answers: finalAnswers });\r\n      finishQuiz(finalAnswers, res.data.report);\r\n    } catch {\r\n      finishQuiz(finalAnswers, []);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"progress-bar\" style={{ width: `${((current + 1) / quizData.length) * 100}%` }} />\r\n      <h2>Question {current + 1} of {quizData.length}</h2>\r\n      <div>{question.question}</div>\r\n      <div>\r\n        {question.options.map((opt, idx) => (\r\n          <button key={idx} className=\"button\" onClick={() => handleAnswer(opt)}>{opt}</button>\r\n        ))}\r\n      </div>\r\n      {isHard && <div className=\"timer\">Time left: {timer}s</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Quiz; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}